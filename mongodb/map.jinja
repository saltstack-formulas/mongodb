{% set mongodb = salt['grains.filter_by']({
    'Debian': {
        'pip': 'python-pip',
        'mongod': 'mongod',
        'mongos': 'mongos',
        'conf_path': '/etc/mongod.conf'
    },
    'RedHat': {
        'pip': 'python-pip',
        'mongod': 'mongodb',
        'mongos': 'mongos',
        'conf_path': '/etc/mongodb.conf'
    },
}, merge=salt['grains.filter_by']({
    'Ubuntu': {
        'mongod': 'mongodb',
    },
}, grain='os', merge=salt['pillar.get']('samba:lookup'))) %}
